<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:body>
	<ui:composition template="layout.xhtml">

		<ui:define name="content">
			<form>
				<div class="row" style="max-width: 900px; padding-top: 32px;">
					<h:form>

						<div class="col s5 m3 l2">
							<label for="tipo-pessoa" class="col">Tipo de Pessoa</label>
							<h:selectOneMenu id="tipo-pessoa"
								value="#{cadastroAcessoController.tipoPessoaSelecionada}"
								converter="tipoPessoaConverter" required="true"
								class="browser-default col s12 m12 l12 box-color z-depth-1"
								disabled="#{cadastroAcessoController.logado}">

								<f:selectItems value="#{cadastroAcessoController.tiposPessoa}"
									var="item" itemValue="#{item}" itemLabel="#{item.nome}" />
								<f:ajax event="change" render="documento doc_label"
									listener="#{cadastroAcessoController.defineDoc()}" />
							</h:selectOneMenu>

						</div>

						<div class="col s7 m9 l3 input-field">
							<i class="material-icons prefix">account_circle</i>
							<h:outputLabel id="doc_label" for="documento"
								value="#{cadastroAcessoController.tipoPessoaSelecionada.chave}" />
							<h:inputText id="documento" name="documento" type="text"
								disabled="#{cadastroAcessoController.logado}" class="validate"
								required="required" maxlength="30"
								value="#{cadastroAcessoController.usuario.pessoa.documento}"
								onkeypress="return mascaraGenerica(event, this, '#{cadastroAcessoController.tipoPessoaSelecionada.mascara}');">

								<f:ajax event="change" />
							</h:inputText>
						</div>

						<div class="col s12 m12 l7 input-field">
							<i class="material-icons prefix">account_circle</i>
							<h:inputText id="nome" name="nome" type="text" class="validate"
								required="required" maxlength="30"
								value="#{cadastroAcessoController.usuario.pessoa.nome}">

								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="nome" value="Nome" />

						</div>

					</h:form>
				</div>

				<h:form class="row" style="max-width: 540px;">

					<div class="col s12 m12 l12 input-field">
						<i class="material-icons prefix">account_circle</i>
						<h:inputText id="login" name="login" type="text" class="validate"
							required="required" maxlength="30"
							value="#{cadastroAcessoController.usuario.login}">

							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="login" value="Login" />

					</div>

					<div class="col s12 m6 l6 input-field">
						<i class="material-icons prefix">account_circle</i>
						<h:inputSecret id="senha" name="senha" type="text"
							class="validate" required="required" maxlength="30"
							value="#{cadastroAcessoController.usuario.senha}">

							<f:ajax event="change" />
						</h:inputSecret>
						<h:outputLabel for="senha" value="Senha" />

					</div>

					<div class="col s12 m6 l6 input-field">
						<i class="material-icons prefix">account_circle</i>
						<h:inputSecret id="conf-senha" name="conf-senha" type="text"
							class="validate" required="required" maxlength="30"
							value="#{cadastroAcessoController.usuario.senha}">

							<f:ajax event="change" />
						</h:inputSecret>
						<h:outputLabel for="conf-senha" value="Confirme a Senha" />

					</div>

				</h:form>



				<h:form id="contatos" class="row" style="max-width: 540px;">
					<fieldset>
						<legend>
							<h:commandButton type="button" class="btn box-color waves-effect"
								onclick="abreModal('adiciona_contato');" value="Contatos +" />
						</legend>

						<ui:repeat var="item" class="col s12 m12 l2"
							value="#{cadastroAcessoController.usuario.pessoa.contatos}"
							varStatus="status">
							<div>#{status.index + 1} | #{item.tipoContato.nome}:
								#{item.informacao}</div>
						</ui:repeat>
					</fieldset>
				</h:form>

				<h:form id="endereco" class="row" style="max-width: 540px;">

					<fieldset>
						<legend>Endereço</legend>

						<div class="col s8 m3 l3 input-field">
							<h:inputText id="cep" name="cep" type="text" class="validate"
								required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.cep}">

								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="cep" value="CEP" />

						</div>

						<div class="col s4 m3 l2">
							<h:commandButton type="submit" class="btn box-color waves-effect"
								actionListener="#{cadastroAcessoController.carregaEndereco()}"
								value='Q'>
								<f:ajax event="change"
									render="pais uf municipio bairro logradouro complemento" />
							</h:commandButton>

						</div>

						<div class="col s4 m6 l5 input-field">
							<h:inputText id="pais" name="pais" type="text" class="validate"
								required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.pais}">
								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="pais" value="País" />
						</div>

						<div class="col s4 m3 l5 input-field">
							<h:inputText id="uf" name="uf" type="text" class="validate"
								required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.estado}">
								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="uf" value="U.F." />
						</div>


						<div class="col s12 m6 l6 input-field">
							<h:inputText id="municipio" name="municipio" type="text"
								class="validate" required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.municipio}">
								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="municipio" value="Município" />
						</div>

						<div class="col s12 m6 l6 input-field">
							<h:inputText id="bairro" name="bairro" type="text"
								class="validate" required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.bairro}">
								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="bairro" value="Bairro" />
						</div>

						<div class="col s12 m12 l12 input-field">
							<h:inputText id="logradouro" name="logradouro" type="text"
								class="validate" required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.logradouro}">
								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="logradouro" value="Logradouro" />
						</div>

						<div class="col s12 m8 l8 input-field">
							<h:inputText id="complemento" name="complemento" type="text"
								class="validate" required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.complemento}">
								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="complemento" value="Complemento" />
						</div>

						<div class="col s12 m4 l4 input-field">
							<h:inputText id="numero" name="numero" type="text"
								class="validate" required="required" maxlength="30"
								value="#{cadastroAcessoController.endereco.numero}">
								<f:ajax event="change" />
							</h:inputText>
							<h:outputLabel for="numero" value="Número" />
						</div>


					</fieldset>


				</h:form>



				<h:form class="row" style="max-width: 900px; padding-top: 32px;">
					<div class="col s12 m12 l12 center">
						<h:commandButton type="submit" class="btn box-color waves-effect"
							actionListener="#{cadastroAcessoController.adicionaUsuario()}"
							value="Salvar" />
					</div>

<!-- 					<div class="col s4 m3 l2"> -->
<!-- 						<h:commandButton type="submit" class="btn box-color waves-effect" -->
<!-- 							actionListener="#{cadastroAcessoController.carregaEndereco()}" -->
<!-- 							value="Q" /> -->
<!-- 					</div> -->

					<div class="col s12 m12 l12 center">
						<a href="login_page.xhtml"
							class="btn yellow darken-2 waves-effect">Voltar ao Login</a>
					</div>
				</h:form>

				<!-- 			</h:form> -->


				<!-- Modal Adição Contato -->
				<!-- 			<form> -->
				<div id="adiciona_contato" class="modal">
					<div class="modal-content">
						<h4>Deseja adicionar Contato?</h4>
						<p>Favor preencher os dados e confirmar, obrigado.</p>

						<h:form class="row" style="max-width: 540px;">

							<!-- 							<h:form id="cmd_contatos2" method="post"> -->

							<div class="col s6 m6 l6">
								<label for="tipo-contato2" class="col">Tipo de Contato</label>
								<h:selectOneMenu id="tipo-contato2"
									value="#{cadastroAcessoController.tipoContatoSelecionado}"
									converter="tipoContatoConverter" required="true"
									class="browser-default col s12 m12 l12 box-color z-depth-1">

									<f:selectItems value="#{cadastroAcessoController.tiposContato}"
										var="item" itemValue="#{item}" itemLabel="#{item.nome}" />
									<f:ajax event="change" render="info-contato2"
										listener="#{cadastroAcessoController.defineTipoContato()}" />
								</h:selectOneMenu>

							</div>
							<div class="col s6 m6 l6 input-field">
								<i class="material-icons prefix">account_circle</i>
								<h:inputText id="info-contato2" name="info-contato2" type="text"
									class="validate" required="required" maxlength="30"
									value="#{cadastroAcessoController.infoContato}">

									<f:ajax event="change" />
								</h:inputText>
								<h:outputLabel for="info-contato2" value="Contato" />
							</div>
							<!-- 							</h:form> -->


						</h:form>
					</div>
					<!-- 					<h:form class="modal-footer"> -->
					<h:form class="modal-footer">
						<h:commandButton type="submit"
							class="modal-close waves-effect waves-green btn-flat"
							actionListener="#{cadastroAcessoController.adicionaContato()}"
							value="Sim" />
						<a class="modal-close waves-effect waves-green btn-flat">Não</a>
					</h:form>
					<!-- 					</h:form> -->
				</div>
				<!-- 			</form> -->

			</form>
		</ui:define>
	</ui:composition>
</h:body>

</html>