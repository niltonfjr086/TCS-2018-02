<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:body>
	<ui:composition template="layout.xhtml">

		<ui:define name="content">

			<h:form id="formulario_cadastro" method="post" action="#" class="row"
				style="max-width:900px; padding-top: 32px;">

				<div class="col s5 m3 l2">
					<label for="tipo-pessoa" class="col">Tipo de Pessoa</label>
					<h:selectOneMenu id="tipo-pessoa"
						value="#{cadastroAcessoController.tipoPessoaSelecionada}"
						converter="tipoPessoaConverter" required="true"
						class="browser-default col s12 m12 l12 box-color z-depth-1"
						disabled="#{cadastroAcessoController.logado}">

						<f:selectItems value="#{cadastroAcessoController.tiposPessoa}"
							var="item" itemValue="#{item}" itemLabel="#{item.nome}" />
						<f:ajax event="change" render="documento doc_label"
							listener="#{cadastroAcessoController.defineDoc()}" />
					</h:selectOneMenu>

				</div>

				<div class="col s7 m9 l3 input-field">
					<i class="material-icons prefix">account_circle</i>
					<h:outputLabel id="doc_label" for="documento"
						value="#{cadastroAcessoController.tipoPessoaSelecionada.chave}" />
					<h:inputText id="documento" name="documento" type="text"
						disabled="#{cadastroAcessoController.logado}" class="validate"
						required="required" maxlength="30"
						value="#{cadastroAcessoController.usuario.pessoa.documento}"
						onkeypress="return mascaraGenerica(event, this, '#{cadastroAcessoController.tipoPessoaSelecionada.mascara}');">

						<f:ajax event="change" />
					</h:inputText>
				</div>

				<div class="col s12 m12 l7 input-field">
					<i class="material-icons prefix">account_circle</i>
					<h:inputText id="nome" name="nome" type="text" class="validate"
						required="required" maxlength="30">

						<f:ajax event="change" />
					</h:inputText>
					<h:outputLabel for="nome" value="Nome" />

				</div>




				<div class="row" style="max-width: 540px;">

					<div class="col s12 m12 l12 input-field">
						<i class="material-icons prefix">account_circle</i>
						<h:inputText id="login" name="login" type="text" class="validate"
							required="required" maxlength="30">

							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="login" value="Login" />

					</div>

					<div class="col s12 m6 l6 input-field">
						<i class="material-icons prefix">account_circle</i>
						<h:inputSecret id="senha" name="senha" type="text"
							class="validate" required="required" maxlength="30">

							<f:ajax event="change" />
						</h:inputSecret>
						<h:outputLabel for="senha" value="Senha" />

					</div>

					<div class="col s12 m6 l6 input-field">
						<i class="material-icons prefix">account_circle</i>
						<h:inputSecret id="conf-senha" name="conf-senha" type="text"
							class="validate" required="required" maxlength="30">

							<f:ajax event="change" />
						</h:inputSecret>
						<h:outputLabel for="conf-senha" value="Confirme a Senha" />

					</div>

				</div>

				<div class="row" style="max-width: 540px;">

					<div class="col s12 m12 l4">
						<label for="tipo-contato" class="col">Tipo de Contato</label>
						<h:selectOneMenu id="tipo-contato"
							value="#{cadastroAcessoController.tipoContatoSelecionado}"
							converter="tipoContatoConverter" required="true"
							class="browser-default col s12 m12 l12 box-color z-depth-1">

							<f:selectItems value="#{cadastroAcessoController.tiposContato}"
								var="item" itemValue="#{item}" itemLabel="#{item.nome}" />
							<f:ajax event="change" render="info-contato"
								listener="#{cadastroAcessoController.defineTipoContato()}" />
						</h:selectOneMenu>

					</div>

					<div class="col s12 m12 l6 input-field">
						<i class="material-icons prefix">account_circle</i>
						<h:inputText id="info-contato" name="info-contato" type="text"
							class="validate" required="required" maxlength="30"
							value="#{cadastroAcessoController.infoContato}">

							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="info-contato" value="Contato" />

					</div>

					<div class="col s12 m12 l2 input-field">

						<button type="submit" class="btn box-color waves-effect"
							style="display: flex; align-self: center;"
							onclick="#{cadastroAcessoController.adicionaContato()}">
							<i class='material-icons'>add</i>
						</button>

					</div>
				</div>
				<div class="row" style="max-width: 540px;">
					<fieldset>
						<legend> Contatos </legend>
						<ui:repeat var="item" class="col s12 m12 l2"
							value="#{cadastroAcessoController.usuario.pessoa.contatos}"
							varStatus="status">
							<div>#{status.index} | #{item}</div>
						</ui:repeat>
					</fieldset>
				</div>
				<div class="row" style="max-width: 540px;">
					<fieldset>
						<legend> Contatos </legend>
						<ui:repeat var="item" class="col s12 m12 l2"
							value="#{cadastroAcessoController.listaTmp}" varStatus="status">
							<div>#{status.index} | #{item}</div>
						</ui:repeat>
					</fieldset>
				</div>

				<div class="col s12 m12 l12 center">
					<h:commandButton type="submit" class="btn box-color waves-effect"
						value="Salvar" />
					<a href="login_page.xhtml" class="btn yellow darken-2 waves-effect">Voltar
						ao Login</a>
				</div>
			</h:form>



		</ui:define>
	</ui:composition>
</h:body>

</html>