<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:body>
	<ui:composition template="layout.xhtml">
		<ui:define name="content">

			<h:form>
				<div class="row" style="max-width: 1200px; padding-top: 32px;">
					<ul class="collapsible center">

						<li>
							<div class="collapsible-header">
								Aguardando<i class="material-icons">arrow_drop_down</i>
							</div>
							<div class="collapsible-body col s12 m12 l12">
								<ui:repeat var="item"
									value="#{perfilDemandanteController.pedidosPorStatus.get('Aguardando')}"
									varStatus="status">


									<div class="input-field col s8 m10 l10">
										<h:outputLabel for="info-pedido"
											value="#{status.index + 1} | Título: #{item.orcamento.titulo}" />
										<h:inputText id="info-pedido" name="info-pedido"
											disabled="true" type="text" class="validate"
											value="Cliente: #{item.demandante.pessoa.nome} | Descrição: #{item.descricao} ">
											<f:ajax event="change" />
										</h:inputText>
									</div>

									<h:commandButton type="submit" value="&#x270E;"
										class="input-field col s2 m1 l1 btn box-color hexa-icon"
										action="#{perfilDemandanteController.verificarPedido('Aguardando', status.index.toString())}" />

									<h:commandButton type="submit" value="&#x1F5D1;"
										class="input-field col s2 m1 l1 btn i-box-color hexa-icon"
										actionListener="#{perfilDemandanteController.descartarPedido('Aguardando', status.index.toString())}" />

								</ui:repeat>
								<div class="collapsible-header col s12 m12 l12">
									Recolher<i class="material-icons">arrow_drop_up</i>
								</div>
							</div>
						</li>


						<li>
							<div class="collapsible-header yellow darken-1">
								Negociando<i class="material-icons">arrow_drop_down</i>
							</div>
							<div class="collapsible-body col s12 m12 l12 yellow lighten-1">
								<ui:repeat var="item"
									value="#{perfilDemandanteController.pedidosPorStatus.get('Negociando')}"
									varStatus="status">


									<div class="input-field col s8 m10 l10">
										<h:outputLabel for="info-pedido"
											value="#{status.index + 1} | Título: #{item.orcamento.titulo}" />
										<h:inputText id="info-pedido" name="info-pedido"
											disabled="true" type="text" class="validate"
											value="Cliente: #{item.demandante.pessoa.nome} | Descrição: #{item.descricao} ">
											<f:ajax event="change" />
										</h:inputText>
									</div>

									<h:commandButton id="btn-abre-modal_#{status.index}"
										type="submit" value="&#x270E;"
										class="input-field col s2 m1 l1 btn blue-text yellow lighten-1 hexa-icon"
										action="#{perfilDemandanteController.verificarPedido('Negociando', status.index.toString())}" />

									<h:commandButton type="submit" value="&#x1F5D1;"
										class="input-field col s2 m1 l1 btn blue-text yellow darken-1 hexa-icon"
										actionListener="#{perfilDemandanteController.descartarPedido('Negociando', status.index.toString())}" />

								</ui:repeat>
								<div class="collapsible-header col s12 m12 l12 yellow darken-1">
									Recolher<i class="material-icons">arrow_drop_up</i>
								</div>
							</div>
						</li>


						<li>
							<div class="collapsible-header white-text green darken-1">
								Executando<i class="material-icons">arrow_drop_down</i>
							</div>
							<div class="collapsible-body col s12 m12 l12 green lighten-1">
								<ui:repeat var="item"
									value="#{perfilDemandanteController.pedidosPorStatus.get('Executando')}"
									varStatus="status">

									<div class="input-field col s8 m10 l10">
										<h:outputLabel for="info-pedido"
											value="#{status.index + 1} | Título: #{item.orcamento.titulo}" />
										<h:inputText id="info-pedido" name="info-pedido"
											disabled="true" type="text" class="validate"
											value="Cliente: #{item.demandante.pessoa.nome} | Descrição: #{item.descricao} ">
											<f:ajax event="change" />
										</h:inputText>
									</div>

									<h:commandButton type="submit" value="&#x270E;"
										class="input-field col s2 m1 l1 btn blue-text green lighten-1 hexa-icon"
										action="#{perfilDemandanteController.verificarPedido('Executando', status.index.toString())}" />

									<h:commandButton type="submit" value="&#x1F5D1;"
										class="input-field col s2 m1 l1 btn white-text green darken-1 hexa-icon"
										actionListener="#{perfilDemandanteController.cancelarPedido('Executando', status.index.toString())}" />

								</ui:repeat>
								<div
									class="collapsible-header col s12 m12 l12 white-text green darken-1">
									Recolher<i class="material-icons">arrow_drop_up</i>
								</div>
							</div>
						</li>


						<li>
							<div class="collapsible-header white-text blue-grey darken-1">
								Descartado<i class="material-icons">arrow_drop_down</i>
							</div>
							<div class="collapsible-body col s12 m12 l12 blue-grey lighten-1">
								<ui:repeat var="item"
									value="#{perfilDemandanteController.pedidosPorStatus.get('Descartado')}"
									varStatus="status">

									<div class="input-field col s8 m10 l10">
										<h:outputLabel for="info-pedido"
											value="#{status.index + 1} | Título: #{item.orcamento.titulo}" />
										<h:inputText id="info-pedido" name="info-pedido"
											disabled="true" type="text" class="validate"
											value="Cliente: #{item.demandante.pessoa.nome} | Descrição: #{item.descricao} ">
											<f:ajax event="change" />
										</h:inputText>
									</div>

									<h:commandButton type="submit" value="&#x270E;"
										class="input-field col s2 m1 l1 btn white-text blue-grey darken-1 hexa-icon"
										action="#{perfilDemandanteController.verificarPedido('Descartado', status.index.toString())}" />

								</ui:repeat>
								<div
									class="collapsible-header col s12 m12 l12 white-text blue-grey darken-1">
									Recolher<i class="material-icons">arrow_drop_up</i>
								</div>
							</div>
						</li>


						<li>
							<div class="collapsible-header white-text red darken-1">
								Cancelado/Interrompido<i class="material-icons">arrow_drop_down</i>
							</div>
							<div class="collapsible-body col s12 m12 l12 red lighten-1">
								<ui:repeat var="item"
									value="#{perfilDemandanteController.pedidosPorStatus.get('Cancelado interrompido')}"
									varStatus="status">

									<div class="input-field col s8 m10 l10">
										<h:outputLabel for="info-pedido"
											value="#{status.index + 1} | Título: #{item.orcamento.titulo}" />
										<h:inputText id="info-pedido" name="info-pedido"
											disabled="true" type="text" class="validate"
											value="Cliente: #{item.demandante.pessoa.nome} | Descrição: #{item.descricao} ">
											<f:ajax event="change" />
										</h:inputText>
									</div>

									<h:commandButton type="submit" value="&#x270E;"
										class="input-field col s2 m1 l1 btn white-text red darken-1 hexa-icon"
										action="#{perfilDemandanteController.verificarPedido('Cancelado interrompido', status.index.toString())}" />

								</ui:repeat>
								<div
									class="collapsible-header col s12 m12 l12 white-text red darken-1">
									Recolher<i class="material-icons">arrow_drop_up</i>
								</div>
							</div>
						</li>


						<li>
							<div class="collapsible-header white-text blue darken-1">
								Concluído<i class="material-icons">arrow_drop_down</i>
							</div>
							<div class="collapsible-body col s12 m12 l12 blue lighten-1">
								<ui:repeat var="item"
									value="#{perfilDemandanteController.pedidosPorStatus.get('Concluído')}"
									varStatus="status">

									<div class="input-field col s8 m10 l10">
										<h:outputLabel for="info-pedido"
											value="#{status.index + 1} | Título: #{item.orcamento.titulo}" />
										<h:inputText id="info-pedido" name="info-pedido"
											disabled="true" type="text" class="validate"
											value="Cliente: #{item.demandante.pessoa.nome} | Descrição: #{item.descricao} ">
											<f:ajax event="change" />
										</h:inputText>
									</div>

									<h:commandButton type="submit" value="&#x270E;"
										class="input-field col s2 m1 l1 btn white-text blue darken-1 hexa-icon"
										action="#{perfilDemandanteController.verificarPedido('Concluído', status.index.toString())}" />

								</ui:repeat>
								<div
									class="collapsible-header col s12 m12 l12 white-text blue darken-1">
									Recolher<i class="material-icons">arrow_drop_up</i>
								</div>
							</div>
						</li>


					</ul>
				</div>
			</h:form>

		</ui:define>
	</ui:composition>
</h:body>

</html>