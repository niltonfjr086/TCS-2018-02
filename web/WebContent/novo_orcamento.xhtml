<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:body>
	<ui:composition template="layout.xhtml">
		<ui:define name="content">
		<div class="container">
			<h:form>
				<div class="row">
					<div class="col s5 m3 l2">
						<label for="ramo" class="col">Ramo</label>
						<h:selectOneMenu id="ramo"
							value="#{novoOrcamentoController.ramoSelecionado}"
							required="true" converter="ramoConverter"
							class="browser-default col s12 m12 l12 box-color z-depth-1">
							<f:selectItem itemValue=" " itemLabel="Selecione um ramo..." />
							<f:selectItems value="#{novoOrcamentoController.ramos}"
								var="item" itemValue="#{item}" itemLabel="#{item.nome}" />
							<f:ajax event="change" render="nicho"
								listener="#{novoOrcamentoController.defineNichosVigentes()}" />
						</h:selectOneMenu>
					</div>
					<div class="col s5 m3 l2">
						<label for="nicho" class="col">Nicho</label>
						<h:selectOneMenu id="nicho"
							value="#{novoOrcamentoController.orcamento.nicho}"
							required="true" converter="nichoConverter"
							class="browser-default col s12 m12 l12 box-color z-depth-1">
							<f:selectItem itemValue=" " itemLabel="Selecione um nicho..." />
							<f:selectItems value="#{novoOrcamentoController.nichosVigentes}"
								var="item" itemValue="#{item}" itemLabel="#{item.nome}" />
							<f:ajax event="change" />
						</h:selectOneMenu>
					</div>
				</div>

				<div class="row">

					<div class="col s7 m9 l3 input-field">
						<h:outputLabel id="lbl-titulo" for="titulo" value="Titulo" />
						<h:inputText id="titulo" name="titulo" type="text"
							class="validate" required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.titulo}">

							<f:ajax event="change" />
						</h:inputText>
					</div>

					<div class="col s5 m3 l3">
						<label for="tipo-servico" class="col">Tipo Serviço</label>
						<h:selectOneMenu id="tipo-servico"
							value="#{novoOrcamentoController.orcamento.tipoOferta}"
							required="true" converter="tipoOfertaConverter"
							class="browser-default col s12 m12 l12 box-color z-depth-1">

							<f:selectItem itemValue=" "
								itemLabel="Selecione um tipo de serviço..." />
							<f:selectItems value="#{novoOrcamentoController.tipoServico}"
								var="item" itemValue="#{item}" itemLabel="#{item.nome}" />
							<f:ajax event="change" />
						</h:selectOneMenu>
					</div>


				</div>

				<div class="input-field col s12 m6 l6">
					<h:inputTextarea id="descricao" class="materialize-textarea"
						value="#{novoOrcamentoController.descricao}"></h:inputTextarea>
					<h:outputLabel for="descricao">Descrição</h:outputLabel>
				</div>

			</h:form>


			<h:form id="endereco" class="row" style="max-width: 540px;">

				<fieldset>
					<legend>Endereço</legend>

					<div class="col s8 m3 l3 input-field">
						<h:inputText id="cep" name="cep" type="text" class="validate"
							required="required" maxlength="30"
							onkeypress="return mascaraGenerica(event, this, '#####-###');"
							value="#{cadastroAcessoController.usuario.pessoa.endereco.cep}">

							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="cep" value="CEP" />

					</div>

					<div class="col s4 m2 l2 input-field center">

						<h:commandButton type="submit" class="btn box-color waves-effect"
							actionListener="#{cadastroAcessoController.carregaEndereco()}"
							value="&#x1F50D;">
						</h:commandButton>
					</div>


					<div class="col s10 m5 l5 input-field">
						<h:inputText id="pais" name="pais" type="text" class="validate"
							required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.endereco.pais}">
							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="pais" value="País" />
					</div>

					<div class="col s2 m2 l2 input-field">
						<h:inputText id="uf" name="uf" type="text" class="validate"
							required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.endereco.estado}">
							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="uf" value="U.F." />
					</div>


					<div class="col s12 m6 l6 input-field">
						<h:inputText id="municipio" name="municipio" type="text"
							class="validate" required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.endereco.municipio}">
							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="municipio" value="Município" />
					</div>

					<div class="col s12 m6 l6 input-field">
						<h:inputText id="bairro" name="bairro" type="text"
							class="validate" required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.endereco.bairro}">
							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="bairro" value="Bairro" />
					</div>

					<div class="col s12 m12 l12 input-field">
						<h:inputText id="logradouro" name="logradouro" type="text"
							class="validate" required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.endereco.logradouro}">
							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="logradouro" value="Logradouro" />
					</div>

					<div class="col s9 m8 l8 input-field">
						<h:inputText id="complemento" name="complemento" type="text"
							class="validate" required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.endereco.complemento}">
							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="complemento" value="Complemento" />
					</div>

					<div class="col s3 m4 l4 input-field">
						<h:inputText id="numero" name="numero" type="text"
							class="validate" required="required" maxlength="30"
							value="#{novoOrcamentoController.orcamento.endereco.numero}">
							<f:ajax event="change" />
						</h:inputText>
						<h:outputLabel for="numero" value="Número" />
					</div>


				</fieldset>

			</h:form>

			<h:form class="row">
				<h:commandButton type="submit"
					class="col s12 m6 l6 btn box-color waves-effect"
					actionListener="#{novoOrcamentoController.adicionaOrcamento()}"
					value="Salvar" />
			</h:form>
	</div>



		</ui:define>
	</ui:composition>
</h:body>

</html>